(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38e41c6a"],{1799:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex justify-content-center align-items-center"},[i("ul",{staticClass:"pages"},[i("li",{staticClass:"page",class:{disabled:!t.pages.has_pre}},[i("a",{staticClass:"pageNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changepage(t.pages.current_page-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("<")])])]),t._l(t.pages.total_pages,(function(e){return i("li",{key:e,staticClass:"page",class:{active:t.pages.current_page===e}},[i("a",{staticClass:"pageNum",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.changepage(e)}}},[t._v(t._s(e))])])})),i("li",{staticClass:"page",class:{disabled:!t.pages.has_next}},[i("a",{staticClass:"pageNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changepage(t.pages.current_page+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v(">")])])])],2)])},s=[],n={name:"Pagination",props:["pages"],methods:{changepage:function(t){this.$emit("switchpage",t)}}},r=n,c=i("2877"),o=Object(c["a"])(r,a,s,!1,null,null,null);e["a"]=o.exports},"99af":function(t,e,i){"use strict";var a=i("23e7"),s=i("d039"),n=i("e8b5"),r=i("861d"),c=i("7b0b"),o=i("50c4"),u=i("8418"),l=i("65f0"),h=i("1dde"),g=i("b622"),d=i("2d00"),p=g("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",m=d>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=h("concat"),C=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},b=!m||!_;a({target:"Array",proto:!0,forced:b},{concat:function(t){var e,i,a,s,n,r=c(this),h=l(r,0),g=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?r:arguments[e],C(n)){if(s=o(n.length),g+s>f)throw TypeError(v);for(i=0;i<s;i++,g++)i in n&&u(h,g,n[i])}else{if(g>=f)throw TypeError(v);u(h,g++,n)}return h.length=g,h}})},a34f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("Bannerimg",[i("Series",{attrs:{serieslist:t.serieslist,currentChoice:t.currentChoice},on:{getSeries:t.changeCat}})],1),i("div",{staticClass:"container-fluid productContent"},[i("div",{staticClass:"row"},t._l(t.filterData,(function(e){return i("div",{key:e.id,staticClass:"col-xl-3 col-lg-4 col-sm-6 col-xs-12 "},[i("div",{staticClass:"productCard",class:{disabled:!e.is_enabled},on:{click:function(i){return t.$router.push("/product_detail/"+e.id)}}},[e.is_enabled?t._e():i("div",{staticClass:"soldOut"},[i("h5",[t._v("售完")])]),i("div",{staticClass:"top"},[i("img",{attrs:{src:e.imageUrl,alt:e.title}}),e.price?i("div",{staticClass:"tag"},[t._v("特價中")]):t._e(),t.isliked(e)?i("i",{staticClass:"fas fa-heart liked",on:{click:function(i){return i.stopPropagation(),t.addTowish(e)}}}):i("i",{staticClass:"far fa-heart",on:{click:function(i){return i.stopPropagation(),t.addTowish(e)}}})]),i("div",{staticClass:"bottom"},[i("h3",[t._v(t._s(e.title))]),i("div",[i("div",{staticClass:"price"},[t._v("NT"+t._s(t._f("currency")(e.origin_price)))]),t.status.loadingItem===e.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):i("i",{staticClass:"fas fa-shopping-cart",on:{click:function(i){return i.stopPropagation(),t.addTocart(e)}}})])])])])})),0)]),i("Pagination",{attrs:{pages:t.pagination},on:{switchpage:t.getPagination}})],1)},s=[],n=(i("99af"),i("4de4"),i("4160"),i("c975"),i("fb6a"),i("a434"),i("159b"),i("5530")),r=i("faba"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"series"},[i("ul",t._l(t.serieslist,(function(e,a){return i("li",{key:a,class:{active:e===t.currentChoice},on:{click:function(i){return i.preventDefault(),t.changeChoice(e)}}},[t._v(t._s(e))])})),0)])])},o=[],u={name:"Series",props:["serieslist","currentChoice"],methods:{changeChoice:function(t){this.$emit("getSeries",t)}}},l=u,h=i("2877"),g=Object(h["a"])(l,c,o,!1,null,null,null),d=g.exports,p=i("1799"),f={name:"Productlist",components:{Bannerimg:r["a"],Series:d,Pagination:p["a"]},data:function(){return{porducts:[],serieslist:[],currentChoice:"全部商品",isLoading:!1,cart:[],wish:[],status:{loadingItem:""},pagination:{total_pages:"",current_page:"",has_pre:!1,has_next:!0},currentPagenum:1,pageSum:""}},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("ashley0126","/products/all");t.isLoading=!0,t.$http.get(e).then((function(e){e.data.success?(t.porducts=e.data.products,t.renderSerieslist()):t.$bus.$emit("message:push",e.data.message,"danger"),t.isLoading=!1}))},renderSerieslist:function(){var t=this,e=[];t.porducts.forEach((function(t){return e.push(t.category)})),t.serieslist=e.filter((function(t,e,i){return i.indexOf(t)===e})),t.serieslist.unshift("全部商品")},changeCat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"全部商品";this.currentChoice=t,this.currentPagenum=1},addTocart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this,a=-1;if(i.getCart(),i.status.loadingItem=t.id,i.cart.length>0&&i.cart.forEach((function(e,i){e.id===t.id&&(a=i)})),-1===a){var s=parseInt(t.origin_price*e,10);i.$set(t,"qty",e),i.$set(t,"total",s),i.cart.push(t)}else{var r=Object(n["a"])({},i.cart[a]);r.qty+=e,r.total=parseInt(t.origin_price*r.qty,10),i.cart.splice(a,1),i.cart.push(r)}localStorage.setItem("cart",JSON.stringify(i.cart)),i.getCart(),i.$bus.$emit("message:push","商品已加入購物車","success"),i.$bus.$emit("cart:get"),i.status.loadingItem=""},getCart:function(){this.cart=JSON.parse(localStorage.getItem("cart"))||[]},addTowish:function(t){var e=this,i=-1;e.getWish(),e.wish.forEach((function(e,a){e.id===t.id&&(i=a)})),-1===i?e.wish.push(t):e.wish.splice(i,1),localStorage.setItem("wish",JSON.stringify(e.wish)),e.getWish(),e.$bus.$emit("wish:get")},getWish:function(){this.wish=JSON.parse(localStorage.getItem("wish"))||[]},isliked:function(t){var e=this.wish.filter((function(e){return e.id===t.id}));return e.length>0},getPagination:function(t){this.currentPagenum=t,this.pagination.current_page=this.currentPagenum,this.pagination.total_pages=this.pageSum,this.currentPagenum<=1?this.pagination.has_pre=!1:this.pagination.has_pre=!0,this.currentPagenum>=this.pagination.total_pages?this.pagination.has_next=!1:this.pagination.has_next=!0},setShows:function(t){var e=Math.ceil(t.length/8);this.pageSum=e,this.getPagination(this.currentPagenum);var i=8*(parseInt(this.currentPagenum,10)-1),a=8*(parseInt(this.currentPagenum,10)-1)+8;return t.slice(i,a)}},computed:{filterData:function(){var t=this,e=this.porducts;return e="全部商品"===this.currentChoice?this.porducts:this.porducts.filter((function(e){return e.category===t.currentChoice})),this.setShows(e)}},created:function(){var t=this;t.$route.params.series&&(t.currentChoice=t.$route.params.series),this.getProducts(),this.getCart(),this.getWish()}},v=f,m=Object(h["a"])(v,a,s,!1,null,null,null);e["default"]=m.exports},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("23cb"),n=i("a691"),r=i("50c4"),c=i("7b0b"),o=i("65f0"),u=i("8418"),l=i("1dde"),h=i("ae40"),g=l("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,f=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!g||!d},{splice:function(t,e){var i,a,l,h,g,d,_=c(this),C=r(_.length),b=s(t,C),w=arguments.length;if(0===w?i=a=0:1===w?(i=0,a=C-b):(i=w-2,a=f(p(n(e),0),C-b)),C+i-a>v)throw TypeError(m);for(l=o(_,a),h=0;h<a;h++)g=b+h,g in _&&u(l,h,_[g]);if(l.length=a,i<a){for(h=b;h<C-a;h++)g=h+a,d=h+i,g in _?_[d]=_[g]:delete _[d];for(h=C;h>C-a+i;h--)delete _[h-1]}else if(i>a)for(h=C-a;h>b;h--)g=h+a-1,d=h+i-1,g in _?_[d]=_[g]:delete _[d];for(h=0;h<i;h++)_[h+b]=arguments[h+2];return _.length=C-a+i,l}})},c975:function(t,e,i){"use strict";var a=i("23e7"),s=i("4d64").indexOf,n=i("a640"),r=i("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,u=n("indexOf"),l=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:o||!u||!l},{indexOf:function(t){return o?c.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},faba:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container-fluid bannerimg"},[t._t("default")],2)])},s=[],n={name:"Bannerimg"},r=n,c=i("2877"),o=Object(c["a"])(r,a,s,!1,null,null,null);e["a"]=o.exports},fb6a:function(t,e,i){"use strict";var a=i("23e7"),s=i("861d"),n=i("e8b5"),r=i("23cb"),c=i("50c4"),o=i("fc6a"),u=i("8418"),l=i("b622"),h=i("1dde"),g=i("ae40"),d=h("slice"),p=g("slice",{ACCESSORS:!0,0:0,1:2}),f=l("species"),v=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var i,a,l,h=o(this),g=c(h.length),d=r(t,g),p=r(void 0===e?g:e,g);if(n(h)&&(i=h.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?s(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(h,d,p);for(a=new(void 0===i?Array:i)(m(p-d,0)),l=0;d<p;d++,l++)d in h&&u(a,l,h[d]);return a.length=l,a}})}}]);
//# sourceMappingURL=chunk-38e41c6a.9260e173.js.map