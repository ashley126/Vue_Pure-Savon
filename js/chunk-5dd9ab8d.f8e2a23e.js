(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dd9ab8d"],{"2cf6":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("Bannerimg",[e("ProgressStep",{attrs:{current:t.step}})],1),e("div",{staticClass:"container checkOut"},[e("h3",[t._v(t._s(t.$t("Checkout.orderInfo")))]),e("div",{staticClass:"row listRow"},[e("div",{staticClass:"col-md-6 col-12"},[e("ul",{staticClass:"order"},[e("li",[e("p",[t._v(t._s(t.$t("Checkout.orderDate"))+" - "+t._s(t._f("date")(t.order.create_at)))])]),t._l(t.order.products,(function(s){return e("li",{key:s.id,staticClass:"orderList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 p-0"},[e("div",{staticClass:"pro-title",on:{click:function(e){return e.preventDefault(),t.$router.push("/product_detail/"+s.product.id)}}},[t._v(t._s(s.product.title))])]),e("div",{staticClass:"col-2 p-0"},[e("div",{staticClass:"pro-qty"},[t._v("x"+t._s(s.qty))])]),e("div",{staticClass:"col-4 p-0"},[e("div",{staticClass:"pro-price"},[t._v("NT"+t._s(t._f("currency")(t._f("floor")(s.final_total/s.qty))))])])])])})),e("li",{staticClass:"pt-2 summaryBlock"},[e("div",{staticClass:"row summaryList"},[e("div",{staticClass:"col-8 p-0 summary"},[t._v(t._s(t.$t("Checkout.summary")))]),e("div",{staticClass:"col-4 p-0 summary"},[t._v("NT"+t._s(t._f("currency")(t.order.total)))])])])],2)]),e("div",{staticClass:"col-md-6 col-12"},[e("div",{staticClass:"order_info"},[e("table",{staticClass:"table"},[e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.name")))]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.telephone")))]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("td",{staticClass:"title"},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.address")))]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.order_pay")))]),"CVS"===t.order.user.payment?e("td",[t._v(t._s(t.$t("Checkout.order_op1")))]):t._e(),"CTP"===t.order.user.payment?e("td",[t._v(t._s(t.$t("Checkout.order_op2")))]):t._e()]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.paid_condition")))]),t.order.is_paid?e("td",{staticClass:"complete"},[t._v(t._s(t.$t("Checkout.paid")))]):e("td",{staticClass:"incomplete"},[t._v(t._s(t.$t("Checkout.not_paid")))])])]),e("div",{staticClass:"endpay"},[t.order.is_paid?e("button",{attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.$router.push("/productlist")}}},[t._v(t._s(t.$t("Checkout.backtoshop")))]):e("button",{attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.completePay(s)}}},[t._v(t._s(t.$t("Checkout.go_paid")))])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"endPayModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body p-3 d-flex align-items-center justify-content-center"},[e("i",{staticClass:"fas fa-clipboard-check"}),e("h3",{staticClass:"ml-2"},[t._v(t._s(t.$t("Checkout.checkoutModal1"))),e("br"),t._v(t._s(t.$t("Checkout.checkoutModal2")))])])])])])],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("PURE SAVON")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=(e("99af"),e("faba")),o=e("c915"),c={name:"Checkout",components:{Bannerimg:i["a"],ProgressStep:o["a"]},data:function(){return{step:3,isLoading:!1,orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("ashley0126","/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(s).then((function(s){s.data.success&&(t.order=s.data.order),t.isLoading=!1}))},completePay:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("ashley0126","/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(s).then((function(s){s.data.success?(t.getOrder(),$("#endPayModal").modal("show")):t.$bus.$emit("message:push","付款失敗","danger"),t.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.order_id,this.getOrder()}},d=c,l=e("2877"),n=Object(l["a"])(d,a,r,!1,null,null,null);s["default"]=n.exports},"99af":function(t,s,e){"use strict";var a=e("23e7"),r=e("d039"),i=e("e8b5"),o=e("861d"),c=e("7b0b"),d=e("50c4"),l=e("8418"),n=e("65f0"),u=e("1dde"),p=e("b622"),_=e("2d00"),v=p("isConcatSpreadable"),C=9007199254740991,h="Maximum allowed index exceeded",f=_>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=u("concat"),b=function(t){if(!o(t))return!1;var s=t[v];return void 0!==s?!!s:i(t)},g=!f||!m;a({target:"Array",proto:!0,forced:g},{concat:function(t){var s,e,a,r,i,o=c(this),u=n(o,0),p=0;for(s=-1,a=arguments.length;s<a;s++)if(i=-1===s?o:arguments[s],b(i)){if(r=d(i.length),p+r>C)throw TypeError(h);for(e=0;e<r;e++,p++)e in i&&l(u,p,i[e])}else{if(p>=C)throw TypeError(h);l(u,p++,i)}return u.length=p,u}})},c915:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"progressStep"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("div",{staticClass:"step",class:{now:1===t.current}},[e("p",[t._v(t._s(t.$t("Progress_step.step1")))])])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"step",class:{now:2===t.current}},[e("p",[t._v(t._s(t.$t("Progress_step.step2")))])])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"step",class:{now:3===t.current}},[e("p",[t._v(t._s(t.$t("Progress_step.step3")))])])])])])},r=[],i={name:"ProgressStep",props:["current"]},o=i,c=e("2877"),d=Object(c["a"])(o,a,r,!1,null,null,null);s["a"]=d.exports},faba:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container-fluid bannerimg"},[t._t("default")],2)])},r=[],i={name:"Bannerimg"},o=i,c=e("2877"),d=Object(c["a"])(o,a,r,!1,null,null,null);s["a"]=d.exports}}]);
//# sourceMappingURL=chunk-5dd9ab8d.f8e2a23e.js.map